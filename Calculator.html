<!DOCTYPE html>
<html>
<head>
	<title>Calculateur compte</title>
	<link rel="stylesheet" type="text/css" href="css/styles_calculator.css">
	<link rel="icon" type="text/css" href="img/logo.png">
	<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
	<meta charset="utf-8">
</head>
<body onkeydown="touche(event);">
	<a href="index.html"><i class="fa fa-home fa-3x" aria-hidden="true"></i></a>
	<h4 id="explic">
		Rentrez votre nombre dans le champ de saissi puis pour en rentrer un nouveau appuyez sur "Entrée" et réitérez l'opération autant de fois que vous avez des chiffres à additionner. Si vous choisissez le mode soustraction "-", le premier nombre que vous allez rentrer et le nombre auquel nous allons soustraire tout les autres nombres entrés par la suite. Exemples : vous rentrez les chiffres "3", "4" et "7" dans cet ordre, le calcul sera : 3 - 4 - 7 = -8. Pour effectuer un nouveau calcul veuillez appuyez sur le bouton "Réinitialiser les variables".
	</h4>
	<input type="number" name="" id="input" placeholder="Chiffre">
	<select id="select">
		<option>+</option>
		<option>-</option>
	</select>
	<button id="button">Additionner le tout</button>
	<h2 id="h"></h2>
	<button id="reset">Réinitialiser les variables</button>
	<script type="text/javascript">
		var nb = 0;
		var table_nb = [];
		var total;
		function touche(e)
		{
			var touche = event.keyCode;
			if (touche==13)
			{
				table_nb[nb] = parseFloat(document.getElementById("input").value);
				nb++;
				document.getElementById("input").value = null;
			}
		}

		document.getElementById("button").addEventListener("click" , () =>{
			if (document.getElementById("select").value!="-")
			{
				for (var i = 0; i<nb; i++)
				{
		 			total += table_nb[i];
				}
			}
			else
			{
				total = table_nb[0];
				for (var i = 1; i<nb; i++)
				{
		 			total -= table_nb[i];
				}
			}
			console.log("%cLe total est de :","color:red");
			console.log(total);
			document.getElementById("h").innerHTML = total;
		});

		document.getElementById("reset").addEventListener("click" , () =>{
			nb = 0;
			console.log("nb : ",nb);
			for(var i = 0; i<table_nb.length;i++)
			{
				table_nb[i] = 0;
				console.log("table_nb[i] : ",table_nb[i]);
			}
			total = 0;
			console.log("total : ",total);
			alert("Réinitialisation des variables");
		});
	</script>
</body>
</html>